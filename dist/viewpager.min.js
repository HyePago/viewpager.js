!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.ViewPager=e()}}(function(){return function e(n,t,o){function r(a,u){if(!t[a]){if(!n[a]){var f="function"==typeof require&&require;if(!u&&f)return f(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(e){var t=n[a][1][e];return r(t?t:e)},c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n){"use strict";n.exports={add:function(e,n,t,o){var r,i;for(n instanceof Array||(n=[n]),r=0,i=n.length;i>r;r+=1)e.addEventListener(n[r],t,!!o)},remove:function(e,n,t,o){var r,i;for(n instanceof Array||(n=[n]),r=0,i=n.length;i>r;r+=1)e.removeEventListener(n[r],t,!!o)}}},{}],2:[function(e,n){"use strict";function t(e,n){function t(e){var n=-e,t=n/w,o=Math.floor(t);return{totalOffset:t,activePage:o,pageOffset:t-o}}function u(e,n,r){console.log("determineTargetPage",e,n,r);var i,a=t(e);return console.log("detltaX",n,"velocity",r),Math.abs(n)>h&&Math.abs(r)>p?(i=r>0?a.activePage:a.activePage+1,console.log("fling target:",i,"velo",r,"activePage",a.activePage)):(i=a.pageOffset>g?a.activePage+1:a.activePage,console.log("target",i)),d&&(i=o.clamp(i,0,d-1)),i}function f(e){var n=e/w,t=Math.max(0,Math.floor(n)),o=n-t;y(n,t,o)}function c(){console.log("anim end")}function s(){function e(){var n=A.computeScrollOffset(),t=A.getCurrX();(0===t||t===w)&&A.forceFinished(!0),b=t,f(b),n?r(e):c()}r(e)}n=n||{};{var l=void 0!==n.anim_duration?n.anim_duration:200,d=void 0!==n.pages?n.pages:!1,v=void 0!==n.prevent_all_native_scrolling?n.prevent_all_native_scrolling:!1,m=!n.vertical,g=void 0!==n.tipping_point?n.tipping_point:.5,h=25,p=.4,w=m?e.offsetWidth:e.offsetHeight,M=function(){},y=n.onPageScroll||M,x=(n.onPageChange||M,n.onSizeChanged||M,!1),A=new i,b=0;new a(e,{onFirstDrag:function(e){x=m?Math.abs(e.dx)>Math.abs(e.dy):Math.abs(e.dx)<Math.abs(e.dy),(x||v)&&e.event.preventDefault()},onDrag:function(e){x&&(console.log(e),b+=m?e.dx:e.dy,A.forceFinished(!0),f(b))},onFling:function(e,n){if(x){console.log("fling",e,n.vx);var t=m?n.vx:n.vy,o=m?e.totaldx:e.totaldy,r=u(b,o,t),i=r*w,a=-b-i;console.log("show anim to page",r,"atOffset",i,"detla",a),A.startScroll(b,0,a,0,l),s()}}})}return{next:function(e){var n=void 0!==e?Math.abs(e):l;A.startScroll(b,0,-w,0,n),s()},previous:function(e){var n=void 0!==e?Math.abs(e):l;A.startScroll(b,0,w,0,n),s()}}}var o=e("./utils"),r=e("./raf").requestAnimationFrame,i=(e("./events"),e("./scroller")),a=e("./gesture_detector");n.exports=t},{"./events":1,"./gesture_detector":3,"./raf":4,"./scroller":5,"./utils":6}],3:[function(e,n){"use strict";function t(n,t){function o(e){if(u){var n=e.touches.length?e.touches:e.changedTouches;return{x:n[0].pageX,y:n[0].pageY,timestamp:e.timeStamp,e:e}}return{x:e.pageX,y:e.pageY,timestamp:e.timeStamp,e:e}}function r(e){return{x:e.x,y:e.y,dx:e.x-a.x,dy:e.y-a.y,totaldx:e.x-i.x,totaldy:e.y-i.y,timestamp:e.timestamp,down_point:i,m_prev_point:a,event:e.e}}var i,a,u="ontouchstart"in window,f=u?"touchstart":"mousedown",c=u?"touchmove":"mousemove",s=u?["touchend","touchcancel"]:["mouseup","mousecancel"],l=e("./events"),d=new(e("./velocity_tracker")),v=window,m=!1,g=!1,h=function(){},p=t.onUp||h,w=t.onUp||h,M=t.onDrag||h,y=t.onFirstDrag||h,x=t.onFling||h,A={handleEvent:function(e){switch(e.type){case"mousedown":case"touchstart":this.onDown(e);break;case"mousemove":case"touchmove":this.onMove(e);break;case"mouseup":case"touchend":this.onUp(e)}},onDown:function(e){m=!0,g=!0;var n=o(e);i=n,a=n,d.clear(),d.addMovement(n),p(e)},onMove:function(e){if(m){var n=o(e);d.addMovement(n);var t=r(n);g&&(y(t),g=!1),M(t),a=n}return!1},onUp:function(e){if(m){var n=o(e),t=r(n);if(m){m=!1,a=void 0;var i=d.getVelocity();x(t,i)}w()}}};return l.add(n,f,A),l.add(v,c,A),l.add(v,s,A),{stop:function(){l.remove(n,f,A),l.remove(v,c,A),l.remove(v,s,A)},isDragging:function(){return m},getVelocityTracker:function(){return d}}}n.exports=t},{"./events":1,"./velocity_tracker":7}],4:[function(e,n){"use strict";var t,o=0,r=["webkit","moz"];for(t=0;t<r.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[r[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[t]+"CancelAnimationFrame"]||window[r[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),t=Math.max(0,16-(n-o)),r=window.setTimeout(function(){e(n+t)},t);return o=n+t,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),n.exports.requestAnimationFrame=window.requestAnimationFrame,n.exports.cancelAnimationFrame=window.cancelAnimationFrame},{}],5:[function(e,n){"use strict";function t(e){function n(){return Date.now()}function t(e){return e?0>e?-1:1:0}function o(e){return 39.37*L*k*e}function r(e){return Math.log(G*Math.abs(e)/(O*T))}function i(e){var n=r(e),t=z-1;return Math.floor(1e3*Math.exp(n/t))}function a(e){var n=r(e),t=z-1;return O*T*Math.exp(z/t*n)}function u(e){if(e*=U,1>e)e-=1-Math.exp(-e);else{var n=.36787944117;e=1-Math.exp(1-e),e=n+e*(1-n)}return e*=V}function f(){return s===R?S:E-P*c()/2e3}function c(){return n()-x}var s,l,d,v,m,g,h,p,w,M,y,x,A,b,F,C,_,q,D,E,S,X,P,k,T,U,V,L=9.80665,O=.015,Y=250,N=0,R=1,z=Math.log(.78)/Math.log(.9),G=.35,I=.5,j=1,B=I*G,H=1-j*(1-G),J=100,W=new Array(J+1),K=new Array(J+1);return function(){for(var e=0,n=0,t=0;J>t;t++){for(var o,r,i,a=t/J,f=1;;){if(o=e+(f-e)/2,i=3*o*(1-o),r=i*((1-o)*B+o*H)+o*o*o,Math.abs(r-a)<1e-5)break;r>a?f=o:e=o}W[t]=i*((1-o)*I+o)+o*o*o;for(var c,s,l=1;;){if(c=n+(l-n)/2,i=3*c*(1-c),s=i*((1-c)*I+c)+c*c*c,Math.abs(s-a)<1e-5)break;s>a?l=c:n=c}K[t]=i*((1-c)*B+c*H)+c*c*c}W[J]=K[J]=1,U=8,V=1,V=1/u(1)}(),_=!0,q=e,k=160,P=o(O),D=!0,T=o(.84),{isFinished:function(){return _},setFriction:function(e){P=o(e),O=e},forceFinished:function(e){_=e},getDuration:function(){return A},getCurrX:function(){return M},getCurrY:function(){return y},getCurrVelocity:f,getStartX:function(){return l},getStartY:function(){return d},getFinalX:function(){return v},getFinalY:function(){return m},computeScrollOffset:function(){if(_)return!1;var e=n()-x;switch(s){case N:var t=e*b;t=void 0===q?u(t):q.getInterpolation(t),M=l+Math.round(t*F),y=d+Math.round(t*C),Math.round(M)===Math.round(v)&&Math.round(y)===Math.round(m)&&(_=!0);break;case R:var o=e/A,r=Math.floor(J*o),i=1,a=0;if(J>r){var f=r/J,c=(r+1)/J,D=W[r],E=W[r+1];a=(E-D)/(c-f),i=D+(o-f)*a}S=a*X/A*1e3,M=l+Math.round(i*(v-l)),M=Math.min(M,h),M=Math.max(M,g),y=d+Math.round(i*(m-d)),y=Math.min(y,w),y=Math.max(y,p),Math.round(M)===Math.round(v)&&Math.round(y)===Math.round(m)&&(_=!0)}return!0},startScroll:function(e,t,o,r,i){s=N,_=!1,A=void 0===i?Y:i,x=n(),l=e,d=t,v=e+o,m=t+r,F=o,C=r,b=1/A},fling:function(e,o,r,u,c,M,y,b){if(c=void 0===c?-Number.MAX_VALUE:c,y=void 0===y?-Number.MAX_VALUE:y,M=void 0===M?Number.MAX_VALUE:M,b=void 0===b?Number.MAX_VALUE:b,D&&!_){var F=f(),C=v-l,q=m-d,S=Math.sqrt(C*C+q*q),P=C/S,k=q/S,T=P*F,U=k*F;t(r)===t(T)&&t(u)===t(U)&&(r+=T,u+=U)}s=R,_=!1;var V=Math.sqrt(r*r+u*u);E=V,A=i(V),x=n(),l=e,d=o;var L=0===V?1:r/V,O=0===V?1:u/V,Y=a(V);X=Math.floor(Y*t(V)),g=c,h=M,p=y,w=b,v=e+Math.round(Y*L),v=Math.min(v,h),v=Math.max(v,g),m=o+Math.round(Y*O),m=Math.min(m,w),m=Math.max(m,p)},abortAnimation:function(){M=v,y=m,_=!0},extendDuration:function(e){var n=c();A=n+e,b=1/A,_=!1},timePassed:c,setFinalX:function(e){v=e,F=v-l,_=!1},setFinalY:function(e){m=e,C=m-d,_=!1},isScrollingInDirection:function(e,n){return!_&&t(e)===t(v-l)&&t(n)===t(m-d)}}}n.exports=t},{}],6:[function(e,n){"use strict";n.exports={clamp:function(e,n,t){return Math.min(Math.max(e,n),t)},map:function(e,n,t,o,r){return o+(r-o)*((e-n)/(t-n))},mapClamp:function(e,n,t,o,r){return this.clamp(this.map(e,n,t,o,r),r>o?o:r,r>o?r:o)},roundTo:function(e,n){return Math.round(e/n)*n},roundDownTo:function(e,n){return Math.floor(e/n)*n},roundUpTo:function(e,n){return Math.ceil(e/n)*n},sign:function(e){return e?0>e?-1:1:0}}},{}],7:[function(e,n){"use strict";function t(){function e(){return{MAX_DEGREE:4,time:0,xCoeff:new Array(5),yCoeff:new Array(5),degree:2,confidence:0,clear:function(){this.time=0,this.degree=0,this.confidence=0;for(var e=0;e<=this.MAX_DEGREE;e++)this.xCoeff[e]=0,this.yCoeff[e]=0}}}function n(e){console.log(JSON.stringify(e))}function t(e,n){for(var t=0,o=e.length;o--;)t+=e[o]*n[o];return t}function o(e){for(var n=0,t=e.length;t--;)n+=e[t]*e[t];return Math.sqrt(n)}function r(e,n){for(var t=new Array(e),o=0;e>o;o++)t[o]=new Array(n);return t}function i(){l=0,s[0]=void 0}function a(e,i,a,u,f,c,s){var l,d,v;h&&console.log("solveLeastSquares: ","m => ",u,"n => ",f,"x => ",e,"y => ",i,"w => ",a,"outB =>",c,"outDet =>",s);var m=r(f,u);for(l=0;u>l;l++)for(m[0][l]=a[l],d=1;f>d;d++)m[d][l]=m[d-1][l]*e[l];h&&n({a:m});var g=r(f,u),p=r(f,f);for(v=0;f>v;v++){for(l=0;u>l;l++)g[v][l]=m[v][l];for(d=0;v>d;d++){var w=t(g[v],g[d]);for(l=0;u>l;l++)g[v][l]-=w*g[d][l]}var M=o(g[v],u);if(h&&(n({q:g}),console.log("norm",M,u,g[v][0])),1e-6>M)return h&&console.log("  - no solution, norm=%f",M),!1;var y=1/M;for(l=0;u>l;l++)g[v][l]*=y;for(d=0;f>d;d++)p[v][d]=v>d?0:t(g[v],m[d])}if(h){console.log("  - q=> ",g[0][0]),console.log("  - r=> ",p[0][0]);var x=r(f,u);for(l=0;u>l;l++)for(d=0;f>d;d++)for(x[d][l]=0,v=0;f>v;v++)x[d][l]+=g[v][l]*p[v][d];console.log("  - qr=%s",x[0][0])}var A=new Array(u);for(l=0;u>l;l++)A[l]=i[l]*a[l];for(d=f;0!==d--;){for(c[d]=t(g[d],A,u),v=f-1;v>d;v--)c[d]-=p[d][v]*c[v];c[d]/=p[d][d]}h&&console.log("  - b=%s",c);var b=0;for(l=0;u>l;l++)b+=i[l];b/=u;var F=0,C=0;for(l=0;u>l;l++){var _=i[l]-c[0],q=1;for(d=1;f>d;d++)q*=e[l],_-=q*c[d];F+=a[l]*a[l]*_*_;var D=i[l]-b;C+=a[l]*a[l]*D*D}return s.confidence=C>1e-6?1-F/C:1,h&&console.log("  - sserr => ",F,"  - sstot => ",C,"  - det => ",s),!0}function u(){return 1}function f(e){d.clear();var n=new Array(m),t=new Array(m),o=new Array(m),r=new Array(m),i=0,f=l,c=s[l];if(void 0===c)return!1;do{var v=s[f];if(!v)break;var p=c.timestamp-v.timestamp;if(p>g)break;n[i]=v.x,t[i]=v.y,o[i]=u(f),r[i]=-p,f=(0===f?m:f)-1}while(++i<m);if(0===i)return console.log("no data to estimate"),!1;if(e>i-1&&(e=i-1),e>=1){var w={confidence:0},M={confidence:0},y=e+1;if(a(r,n,o,i,y,d.xCoeff,w)&&a(r,t,o,i,y,d.yCoeff,M))return d.time=c.timestamp,d.degree=e,d.confidence=w.confidence*M.confidence,h&&console.log("Estimate: ","degree",d.degree,"xCoeff",d.xCoeff,"yCoeff",d.yCoeff,"confidence",d.confidence),!0}return h&&console.log("velocity data available for this pointer, but we do have its current position."),d.xCoeff[0]=n[0],d.yCoeff[0]=t[0],d.time=c.timestamp,d.degree=0,d.confidence=1,!0}var c=0,s=new Array(m),l=0,d=new e,v=40,m=5,g=200,h=!1;return{clear:i,getVelocity:function(){return f(2)&&d.degree>=1?{unit:"px / ms",vx:d.xCoeff[1],vy:d.yCoeff[1]}:{info:"no velo",unit:"px / ms",vx:0,vy:0}},getPositions:function(){var e=0,n=l,t=[];do{var o=s[n];if(!o)break;t.push(o),n=(0===n?m:n)-1}while(++e<m);return t},addMovement:function(e){e.timestamp>=c+v&&(h&&console.log("no movements assume stop"),i()),c=e.timestamp,++l===m&&(l=0),s[l]=e}}}n.exports=t},{}]},{},[2])(2)});