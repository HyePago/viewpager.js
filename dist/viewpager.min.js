!function(n){if("object"==typeof exports)module.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.ViewPager=n()}}(function(){return function n(e,t,o){function r(a,u){if(!t[a]){if(!e[a]){var f="function"==typeof require&&require;if(!u&&f)return f(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(n){var t=e[a][1][n];return r(t?t:n)},c,c.exports,n,e,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(n,e){"use strict";e.exports={add:function(n,e,t,o){var r,i;for(e instanceof Array||(e=[e]),r=0,i=e.length;i>r;r+=1)n.addEventListener(e[r],t,!!o)},remove:function(n,e,t,o){var r,i;for(e instanceof Array||(e=[e]),r=0,i=e.length;i>r;r+=1)n.removeEventListener(e[r],t,!!o)}}},{}],2:[function(n,e){"use strict";function t(n,e){function t(n){var e=Math.abs(n),t=e/g,o=Math.max(0,Math.floor(t));return{totalOffset:t,activePage:o,pageOffset:t-o}}function u(n,e,o){var r,i=t(n);Math.abs(e)>m&&Math.abs(o)>h?r=o>0?i.activePage:i.activePage+1:(console.log(i),r=i.pageOffset>v?i.activePage+1:i.activePage,console.log("target",r))}function f(n){var e=n/g,t=Math.max(0,Math.floor(e)),o=e-t;x(e,t,o)}function c(){console.log("anim end")}function s(n){function e(){var n=w.computeScrollOffset(),t=w.getCurrX();(0===t||t===g)&&w.forceFinished(!0),y.x=t,console.log("animage",y.x),f(y.x),n?r(e):c()}n=n||l,r(e)}e=e||{};{var l=void 0!==e.anim_duration?e.anim_duration:200,d=(void 0!==e.pages?e.pages:!1,void 0!==e.prevent_all_native_scrolling?e.prevent_all_native_scrolling:!1,!e.vertical),v=void 0!==e.tipping_point?e.tipping_point:.5,m=25,h=400,g=d?n.offsetWidth:n.offsetHeight,p=function(){},x=e.onPageScroll||p,M=(e.onPageChange||p,e.onSizeChanged||p,!1),w=new i,y={x:0,y:0};new a(n,{onFirstDrag:function(n){M=d?Math.abs(n.dx)>Math.abs(n.dy):Math.abs(n.dx)<Math.abs(n.dy),M&&n.event.preventDefault()},onDrag:function(n){M&&(console.log(n),y.x+=n.dx,w.forceFinished(!0),f(y.x),u(y.x))},onFling:function(n,e){if(M){console.log("fling",n,e),u(y.x,n.totaldx,e);{Math.abs(e.vx)}if(0===Math.abs(e.vx)){var t=o.roundTo(y.x,g);w.startScroll(y.x,0,t-y.x,0,1500),console.log("NO_FLING",y.x,t,g)}else{w.fling(y.x,0,1e3*e.vx,0);var r=w.getFinalX(),i=o.roundTo(r,g);if(console.log("roundedX",i,"currentX",y.x),Math.abs(i-y.x)>g){var a=i;i=o.roundTo(y.x+g*o.sign(e.vx),g),console.log("GOING FAAAAAR ",a," - > ",i)}w.setFinalX(i),console.log("FLING start, finish",r,i)}s()}}})}return{next:function(){s(!0,500)},previous:function(){s(!0,500,!0)}}}var o=n("./utils"),r=n("./raf").requestAnimationFrame,i=(n("./events"),n("./scroller")),a=n("./gesture_detector");e.exports=t},{"./events":1,"./gesture_detector":3,"./raf":4,"./scroller":5,"./utils":6}],3:[function(n,e){"use strict";function t(e,t){function o(n){if(u){var e=n.touches.length?n.touches:n.changedTouches;return{x:e[0].pageX,y:e[0].pageY,timestamp:n.timeStamp,e:n}}return{x:n.pageX,y:n.pageY,timestamp:n.timeStamp,e:n}}function r(n){return{x:n.x,y:n.y,dx:n.x-a.x,dy:n.y-a.y,totaldx:n.x-i.x,totaldy:n.y-i.y,timestamp:n.timestamp,down_point:i,m_prev_point:a,event:n.e}}var i,a,u="ontouchstart"in window,f=u?"touchstart":"mousedown",c=u?"touchmove":"mousemove",s=u?["touchend","touchcancel"]:["mouseup","mousecancel"],l=n("./events"),d=new(n("./velocity_tracker")),v=window,m=!1,h=!1,g=function(){},p=t.onUp||g,x=t.onUp||g,M=t.onDrag||g,w=t.onFirstDrag||g,y=t.onFling||g,A={handleEvent:function(n){switch(n.type){case"mousedown":case"touchstart":this.onDown(n);break;case"mousemove":case"touchmove":this.onMove(n);break;case"mouseup":case"touchend":this.onUp(n)}},onDown:function(n){m=!0,h=!0;var e=o(n);i=e,a=e,d.clear(),d.addMovement(e),p(n)},onMove:function(n){var e=o(n);if(m){d.addMovement(e);var t=r(e);h&&(w(t),h=!1),M(t),a=e}return!1},onUp:function(n){var e=o(n),t=r(e);if(m){m=!1,a=void 0;var i=d.getVelocity();y(t,i)}x()}};return l.add(e,f,A),l.add(v,c,A),l.add(v,s,A),{stop:function(){l.remove(e,f,A),l.remove(v,c,A),l.remove(v,s,A)},isDragging:function(){return m},getVelocityTracker:function(){return d}}}e.exports=t},{"./events":1,"./velocity_tracker":7}],4:[function(n,e){"use strict";var t,o=0,r=["webkit","moz"];for(t=0;t<r.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[r[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[t]+"CancelAnimationFrame"]||window[r[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var e=(new Date).getTime(),t=Math.max(0,16-(e-o)),r=window.setTimeout(function(){n(e+t)},t);return o=e+t,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)}),e.exports.requestAnimationFrame=window.requestAnimationFrame,e.exports.cancelAnimationFrame=window.cancelAnimationFrame},{}],5:[function(n,e){"use strict";function t(n){function e(){return Date.now()}function t(n){return n?0>n?-1:1:0}function o(n){return 39.37*U*T*n}function r(n){return Math.log(R*Math.abs(n)/(V*P))}function i(n){var e=r(n),t=I-1;return Math.floor(1e3*Math.exp(e/t))}function a(n){var e=r(n),t=I-1;return V*P*Math.exp(I/t*e)}function u(n){if(n*=L,1>n)n-=1-Math.exp(-n);else{var e=.36787944117;n=1-Math.exp(1-n),n=e+n*(1-e)}return n*=N}function f(){return s===Y?E:X-k*c()/2e3}function c(){return e()-y}var s,l,d,v,m,h,g,p,x,M,w,y,A,b,F,C,_,q,D,X,E,S,k,T,P,L,N,U=9.80665,V=.015,O=250,G=0,Y=1,I=Math.log(.78)/Math.log(.9),R=.35,z=.5,j=1,B=z*R,H=1-j*(1-R),J=100,W=new Array(J+1),K=new Array(J+1);return function(){for(var n=0,e=0,t=0;J>t;t++){for(var o,r,i,a=t/J,f=1;;){if(o=n+(f-n)/2,i=3*o*(1-o),r=i*((1-o)*B+o*H)+o*o*o,Math.abs(r-a)<1e-5)break;r>a?f=o:n=o}W[t]=i*((1-o)*z+o)+o*o*o;for(var c,s,l=1;;){if(c=e+(l-e)/2,i=3*c*(1-c),s=i*((1-c)*z+c)+c*c*c,Math.abs(s-a)<1e-5)break;s>a?l=c:e=c}K[t]=i*((1-c)*B+c*H)+c*c*c}W[J]=K[J]=1,L=8,N=1,N=1/u(1)}(),_=!0,q=n,T=160,k=o(V),D=!0,P=o(.84),{isFinished:function(){return _},setFriction:function(n){k=o(n),V=n},forceFinished:function(n){_=n},getDuration:function(){return A},getCurrX:function(){return M},getCurrY:function(){return w},getCurrVelocity:f,getStartX:function(){return l},getStartY:function(){return d},getFinalX:function(){return v},getFinalY:function(){return m},computeScrollOffset:function(){if(_)return!1;var n=e()-y;switch(s){case G:var t=n*b;t=void 0===q?u(t):q.getInterpolation(t),M=l+Math.round(t*F),w=d+Math.round(t*C),Math.round(M)===Math.round(v)&&Math.round(w)===Math.round(m)&&(_=!0);break;case Y:var o=n/A,r=Math.floor(J*o),i=1,a=0;if(J>r){var f=r/J,c=(r+1)/J,D=W[r],X=W[r+1];a=(X-D)/(c-f),i=D+(o-f)*a}E=a*S/A*1e3,M=l+Math.round(i*(v-l)),M=Math.min(M,g),M=Math.max(M,h),w=d+Math.round(i*(m-d)),w=Math.min(w,x),w=Math.max(w,p),Math.round(M)===Math.round(v)&&Math.round(w)===Math.round(m)&&(_=!0)}return!0},startScroll:function(n,t,o,r,i){s=G,_=!1,A=void 0===i?O:i,y=e(),l=n,d=t,v=n+o,m=t+r,F=o,C=r,b=1/A},fling:function(n,o,r,u,c,M,w,b){if(c=void 0===c?-Number.MAX_VALUE:c,w=void 0===w?-Number.MAX_VALUE:w,M=void 0===M?Number.MAX_VALUE:M,b=void 0===b?Number.MAX_VALUE:b,D&&!_){var F=f(),C=v-l,q=m-d,E=Math.sqrt(C*C+q*q),k=C/E,T=q/E,P=k*F,L=T*F;t(r)===t(P)&&t(u)===t(L)&&(r+=P,u+=L)}s=Y,_=!1;var N=Math.sqrt(r*r+u*u);X=N,A=i(N),y=e(),l=n,d=o;var U=0===N?1:r/N,V=0===N?1:u/N,O=a(N);S=Math.floor(O*t(N)),h=c,g=M,p=w,x=b,v=n+Math.round(O*U),v=Math.min(v,g),v=Math.max(v,h),m=o+Math.round(O*V),m=Math.min(m,x),m=Math.max(m,p)},abortAnimation:function(){M=v,w=m,_=!0},extendDuration:function(n){var e=c();A=e+n,b=1/A,_=!1},timePassed:c,setFinalX:function(n){v=n,F=v-l,_=!1},setFinalY:function(n){m=n,C=m-d,_=!1},isScrollingInDirection:function(n,e){return!_&&t(n)===t(v-l)&&t(e)===t(m-d)}}}e.exports=t},{}],6:[function(n,e){"use strict";e.exports={clamp:function(n,e,t){return Math.min(Math.max(n,e),t)},map:function(n,e,t,o,r){return o+(r-o)*((n-e)/(t-e))},mapClamp:function(n,e,t,o,r){return this.clamp(this.map(n,e,t,o,r),r>o?o:r,r>o?r:o)},roundTo:function(n,e){return Math.round(n/e)*e},roundDownTo:function(n,e){return Math.floor(n/e)*e},roundUpTo:function(n,e){return Math.ceil(n/e)*e},sign:function(n){return n?0>n?-1:1:0}}},{}],7:[function(n,e){"use strict";function t(){function n(){return{MAX_DEGREE:4,time:0,xCoeff:new Array(5),yCoeff:new Array(5),degree:2,confidence:0,clear:function(){this.time=0,this.degree=0,this.confidence=0;for(var n=0;n<=this.MAX_DEGREE;n++)this.xCoeff[n]=0,this.yCoeff[n]=0}}}function e(n){console.log(JSON.stringify(n))}function t(n,e){for(var t=0,o=n.length;o--;)t+=n[o]*e[o];return t}function o(n){for(var e=0,t=n.length;t--;)e+=n[t]*n[t];return Math.sqrt(e)}function r(n,e){for(var t=new Array(n),o=0;n>o;o++)t[o]=new Array(e);return t}function i(){l=0,s[0]=void 0}function a(n,i,a,u,f,c,s){var l,d,v;g&&console.log("solveLeastSquares: ","m => ",u,"n => ",f,"x => ",n,"y => ",i,"w => ",a,"outB =>",c,"outDet =>",s);var m=r(f,u);for(l=0;u>l;l++)for(m[0][l]=a[l],d=1;f>d;d++)m[d][l]=m[d-1][l]*n[l];g&&e({a:m});var h=r(f,u),p=r(f,f);for(v=0;f>v;v++){for(l=0;u>l;l++)h[v][l]=m[v][l];for(d=0;v>d;d++){var x=t(h[v],h[d]);for(l=0;u>l;l++)h[v][l]-=x*h[d][l]}var M=o(h[v],u);if(g&&(e({q:h}),console.log("norm",M,u,h[v][0])),1e-6>M)return g&&console.log("  - no solution, norm=%f",M),!1;var w=1/M;for(l=0;u>l;l++)h[v][l]*=w;for(d=0;f>d;d++)p[v][d]=v>d?0:t(h[v],m[d])}if(g){console.log("  - q=> ",h[0][0]),console.log("  - r=> ",p[0][0]);var y=r(f,u);for(l=0;u>l;l++)for(d=0;f>d;d++)for(y[d][l]=0,v=0;f>v;v++)y[d][l]+=h[v][l]*p[v][d];console.log("  - qr=%s",y[0][0])}var A=new Array(u);for(l=0;u>l;l++)A[l]=i[l]*a[l];for(d=f;0!==d--;){for(c[d]=t(h[d],A,u),v=f-1;v>d;v--)c[d]-=p[d][v]*c[v];c[d]/=p[d][d]}g&&console.log("  - b=%s",c);var b=0;for(l=0;u>l;l++)b+=i[l];b/=u;var F=0,C=0;for(l=0;u>l;l++){var _=i[l]-c[0],q=1;for(d=1;f>d;d++)q*=n[l],_-=q*c[d];F+=a[l]*a[l]*_*_;var D=i[l]-b;C+=a[l]*a[l]*D*D}return s.confidence=C>1e-6?1-F/C:1,g&&console.log("  - sserr => ",F,"  - sstot => ",C,"  - det => ",s),!0}function u(){return 1}function f(n){d.clear();var e=new Array(m),t=new Array(m),o=new Array(m),r=new Array(m),i=0,f=l,c=s[l];if(void 0===c)return!1;do{var v=s[f];if(!v)break;var p=c.timestamp-v.timestamp;if(p>h)break;e[i]=v.x,t[i]=v.y,o[i]=u(f),r[i]=-p,f=(0===f?m:f)-1}while(++i<m);if(0===i)return console.log("no data to estimate"),!1;if(n>i-1&&(n=i-1),n>=1){var x={confidence:0},M={confidence:0},w=n+1;if(a(r,e,o,i,w,d.xCoeff,x)&&a(r,t,o,i,w,d.yCoeff,M))return d.time=c.timestamp,d.degree=n,d.confidence=x.confidence*M.confidence,g&&console.log("Estimate: ","degree",d.degree,"xCoeff",d.xCoeff,"yCoeff",d.yCoeff,"confidence",d.confidence),!0}return g&&console.log("velocity data available for this pointer, but we do have its current position."),d.xCoeff[0]=e[0],d.yCoeff[0]=t[0],d.time=c.timestamp,d.degree=0,d.confidence=1,!0}var c=0,s=new Array(m),l=0,d=new n,v=40,m=5,h=200,g=!1;return{clear:i,getVelocity:function(){return f(2)&&d.degree>=1?{unit:"px / ms",vx:d.xCoeff[1],vy:d.yCoeff[1]}:{info:"no velo",unit:"px / ms",vx:0,vy:0}},getPositions:function(){var n=0,e=l,t=[];do{var o=s[e];if(!o)break;t.push(o),e=(0===e?m:e)-1}while(++n<m);return t},addMovement:function(n){n.timestamp>=c+v&&(g&&console.log("no movements assume stop"),i()),c=n.timestamp,++l===m&&(l=0),s[l]=n}}}e.exports=t},{}]},{},[2])(2)});